function arrayFromObject(obj) {
    	    var arr = [];
    	    for (var i in obj) {
    	        arr.push(obj[i]);
    	    }
    	    return arr;
    	}
      
        function groupBy(list,arrGroupField) 
	  	{
        	var arrResult = list;
	  	    if(arrGroupField && arrGroupField.length > 0)
	  	    {
	  	    	arrResult = groupByField(list,arrGroupField[0]);
	  	    	if(arrResult && arrResult.length > 0 && arrGroupField.length > 1)
	  	    	{
	  	    		for(var count = 0;count < arrResult.length;count++)
	  	    		{
	  	    			var item = arrResult[count];
	  	    			if(item && item.hasOwnProperty("children"))
	  	    			{
	  	    				var result = groupByField(item["children"],arrGroupField[1]); 
	  	    				item["children"] = result;
	  	    				arrResult[count] = item;
	  	    			}
	  	    		}
	  	    	}
	  	    }
	  	    return arrResult;
	  	}

    	function groupByField(list,groupField) 
    	{
    	    var groups = {};
    	    for (var i = 0; i < list.length; i++) 
    	    {
    	    	var item = list[i];
    	        var group = JSON.stringify(item[groupField]);
    	        if (group in groups) 
    	        {
    	            groups[group].children.push(item); 
    	        } 
    	        else 
    	        {
    	        	var objEmpty = createEmptyItem(list[i]);
    	        	objEmpty[groupField] = item[groupField];
    	        	objEmpty.children = [];
    	        	objEmpty.children.push(item); 
    	            groups[group] = objEmpty;
    	        }
    	    }
    	    return arrayFromObject(groups);
    	}
    	
    	function createEmptyItem(objSource)
    	{
    		var objCopy = {};
    		if (objSource instanceof Object) 
    		{
    	        for (var attr in objSource) 
    	        {
    	            if (objSource.hasOwnProperty(attr))
    	            {
    	            	objCopy[attr] = null;
    	            }
    	        }
    	    }
    		return objCopy;
    	}

    	var result = groupBy(list123,["lastname","age"]);
