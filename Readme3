this.util.addEvent(this.__baseComponent,"click",this.__baseComponentClickHandler.bind(this));
NSPanel.prototype.__createGhostElement = function(element)
{
	this.__divGhost = element.cloneNode(true);
	var divPanelControlbar = this.__divGhost.querySelector(".nsPanelControlbar");
	if(divPanelControlbar)
	{
		divPanelControlbar.parentNode.removeChild(divPanelControlbar);
	}
	var divBody = this.__divGhost.querySelector(".nsPanelBody");
	if(divBody)
	{
		divBody.innerHTML = "";
	}
	return this.__divGhost;
};
NSPanel.prototype.__baseComponentClickHandler = function(event)
{
	console.log("__baseComponentClickHandler " + this.__baseComponent.id);
	var arrElement = document.querySelectorAll(".nsPanelModalContent:not(.nsDragGhost)");
	var currentPanel =  this.__baseComponent;
	var highlightedPanel = arrElement[arrElement.length - 1];
	//if popup then select its parent
	if(this.__divModal)
	{
		highlightedPanel = highlightedPanel.parentNode;
		currentPanel = this.__divModal;
	}
	this.util.insertAfterElement(highlightedPanel,currentPanel);
};
if(!isNaN(zIndex) && zIndex > 0)
			{
				this.__baseComponent.style.zIndex = zIndex;
			}
NSPanel.prototype.__getZIndex = function()
{
	var zIndex = parseInt(this.util.getZIndex(this.__baseComponent));
	var arrElement = document.querySelectorAll(".nsPanelModalContent:not(.nsDragGhost)");
	for(var count = 0;count < arrElement.length;count++)
	{
		var eleZIndex = parseInt(this.util.getZIndex(arrElement[count]));
		if (eleZIndex >= zIndex && arrElement[count] != this.__baseComponent) 
		{
            zIndex = eleZIndex + 1;
        }
	}
	return zIndex;
};
.nsPanelWhite
{
	background-color: #fefefe;
}
.nsPanelWhite .nsPanelTitleBar
{
	background-color: #157fcc;
}
.nsPanelWhite .nsPanelTitleBarContent
{
	color: #fefefe;
}

this.util.addStyleClass(this.__divHidden,"nsDragGhost");
